來說一個跟 JS 語法解析器有關的危險小叮嚀: 自動插入分號

JS 語法解析器會盡可能做一些事情來幫助我們，你可能已經注意到分號(;)在 JS 的核心不是必要的，因為 JS 引擎幫你做了一些事情，如果你結束了一行程式碼，按下 enter 鍵，他就會自動幫你補上一個 carriage return(↓)，他是個看不見的字元，但他的確是個字元，語法解析器看到他，就會自動幫你補上分號，也就是說當語法解析器預期你該要有分號的地方，他會自動幫你補上。

然而當你沒有自己補上分號，這可能會造成一些危險的事情，JS 會幫你在錯誤的地方補上分號。
```js
function getPerson () {
	return{
		firstname: ’Tony'
	}
}
console.log(getPerson())
```     
![](./photo/Pasted%20image%2020221101214243.png)

結果會跑出 undefined，因為 JS 自動幫你在 return  的後面補上分號了，所以你必須把大括號放在 return 同一行的後面，告訴JS 我這一行還沒結束，他就會知道我現在在用物件實體語法，就不會幫你補上分號了，這也就是為什麼我們總是會把大括號放在跟函數、for 迴圈、if 陳述句同一行。
```js
function getPerson () {
	return {
		firstname: ’Tony'
	}
}
console.log(getPerson())
```

> ### 總結: 任何你預期該要有分號的地方，請記得自己幫他補上去， 盡量避免這種問題吧!

tag: #JS #Semicolon #SyntaxParsers 